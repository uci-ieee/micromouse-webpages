<!DOCTYPE html>
<html lang="en" dir="ltr" data-bs-theme="light">

<head>
	<meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1">
	<!--Title-->
	<title>Open Project Space</title>
	<!--Favicon-->
	<link rel="icon" href="./assets/images/ops_logo_favicon.png">
	<!--Roboto Font CDN-->
	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Roboto" rel="stylesheet">
	<!--Beckman Font CDN-->
	<link href="https://fonts.cdnfonts.com/css/beckman" rel="stylesheet">
	<!-- Custom Stylesheet "custom.css" used for Bootstrap 5.3.0 css-->
	<link rel="stylesheet" href="./css/custom.css" type="text/css">
	<!-- Popper JS v2.11.8 (Bootstrap Dependency) CDN -->
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
		integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
		crossorigin="anonymous"></script>
	<!-- Bootstrap JS v5.3.0 CDN -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"
		integrity="sha384-fbbOQedDUMZZ5KreZpsbe1LCZPVmfTnH7ois6mU1QK+m14rQ1l2bGBq41eYeM/fS"
		crossorigin="anonymous"></script>
	<!-- Bootstrap Icons CSS v1.10.0 CDN-->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
	<!-- Highlight JS v11.7.0-->
	<link rel="stylesheet" href="./css/highlight.js/default.min.css" type="text/css">
	<link rel="stylesheet" href="./css/highlight.js/arduino-light.min.css" type="text/css">
	<script src="./js/highlight.min.js"></script>
	<script>hljs.highlightAll();</script>
</head>

<body style="">
	<!-- ======= Header ======= -->
	<script src="./js/ops_header.js"></script>
	<!-- End Header -->

	<div class="container-xl pj-layout my-5">
		<!-- ======= Sidebar ======= -->
		<aside class="pj-sidebar ">
			<nav id="project-toc" class="pj-toc d-flex flex-column px-2 pt-2 pb-4">
				<ul class="nav flex-column">
					<h5 class="mt-2 mb-2 mx-3">Contents</h5>
					<li class="nav-item">
						<a class="nav-link" href="#pj-heading-overview">Overview</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#pj-heading-concepts">Concepts</a>
						<ul class="nav">
							<li class="nav-item">
								<a class="nav-link" href="#pj-heading-esp32">ESP32</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="#pj-heading-esp32-guide">ESP32 Guide</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="#pj-heading-pinout">Pinout</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="#pj-heading-rgb-led">RGB LED</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="#pj-heading-potentiometer">Potentiometer</a>
							</li>
						</ul>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#pj-heading-requirements">Requirements</a>
						<ul class="nav">
							<li class="nav-item">
								<a class="nav-link" href="#pj-heading-blinker">LED Blinker</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="#pj-heading-dimmer">LED Dimmer</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="#pj-heading-rgb-dimmer">RGB LED Wizard</a>
							</li>
						</ul>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#pj-heading-parts">Parts</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#pj-heading-schematics">Schematics</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#pj-heading-instructions">Instructions</a>
						<ul class="nav">
							<li class="nav-item">
								<a class="nav-link" href="#pj-heading-checkpoint1">Checkpoint 1</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="#pj-heading-checkpoint2">Checkpoint 2</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="#pj-heading-checkpoint3">Checkpoint 3</a>
							</li>
						</ul>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#pj-heading-deliverables">Deliverables</a>
					</li>
				</ul>
			</nav>
		</aside>
		<!-- End Sidebar -->

		<main class="pj-main p-3" data-bs-spy="scroll" data-bs-target="#project-toc" data-bs-root-margin="0px 0px -40%"
			data-bs-smooth-scroll="true" tabindex="0">
			<div class="pj-content">

				<div class="d-flex flex-row justify-content-between mb-5">
					<div class="">
						<h4>Project 3</h4>
						<h1 class="fw-bold">RGB LED Wizard</h1>
					</div>
					<div class="alert alert-light" role="alert">
						<i class="bi bi-calendar-event me-1"></i>
						Updated 2024.11.15 <br>
						By Gavin Nguyen
					</div>
				</div>

				<h2 class="mb-3 fw-bold" id="pj-heading-overview">Overview</h2>
				<p class="mb-5">
					In this project, you will program an ESP32 to control a dimmable RGB light!
					At each checkpoint, you will explore the core functions of microcontrollers:
					digital input/output, pulse width modulation, and analog-to-digital conversion.
				</p>

				<h2 class="mb-3 fw-bold" id="pj-heading-concepts">Concepts</h2>
				<h3 class="mb-3" id="pj-heading-esp32">ESP32</h3>
				<div class="mb-3">
					<p>
						The ESP32-C3Fx4 is a board based on an ESP32 microcontroller. It is hobbyist-friendly and was developed by WeAct Studio:
						they added a USB-C port, voltage regulator, and an onboard LED (among other things).The chip itself contains the
						processor, RAM, and flash storage. These components execute the programs we write, which
						allows us to build and control cool projects with them!
					</p>
				</div>

				<div class="mb-5">
					<img class="pj-img-fluid-end" src=".\assets\images\parts\ops_part_esp32c3fxh4.jpg"  width="300">
					<p>
						<strong>In OPS, we will refer to the ESP32-C3Fx4 board as an ESP32</strong> from now on for convenience.
						The ESP32 board is depicted here (without its pin headers).
					</p>
					<p>
						<strong>General Purpose Input/Output</strong> <strong>(GPIO)</strong> pins, power, and ground pins run
						along the sides of the ESP32.
					</p>
					<p>
						In the lecture content, we discuss the different GPIO pin capabilities and their use cases.
						To program the ESP32, we will use the Arduino programming
						language (a C++ variant) to write and compile sketches. Learn more <a
							href="https://ieee.ics.uci.edu/ops/lectures.html" target="_blank"
							rel="noopener noreferrer">here</a>.
					</p>
					<p>
						We won't talk in depth about each function or data structure from the Arduino Library. When you
						need
						to read up on
						Arduino code, refer to the <a href="https://www.arduino.cc/reference/en/" target="_blank"
							rel="noopener noreferrer">Arduino Language Reference</a>.
					</p>
				</div>
				<h3 class="mb-3" id="pj-heading-esp32-guide" >ESP32 Guide <strong>(IMPORTANT)</strong></h3>
				<p class="mb-5"> 
					Before moving forward, <strong>it is crucial that you follow the steps in our ESP32 Guide</strong> to set up and learn how to program the ESP32. Visit the ESP32 Guide
					<a href="./esp32_guide.html" target="_blank" rel="noopener noreferrer">here</a> or by clicking "ESP32 Guide" on the top navigation bar.

				</p>
				<h3 class="mb-3" id="pj-heading-pinout" >Pinout</h3>
				<p>
					Thinking about using a pin but you don't know what it does? Refer to the ESP32 Board pinout
					diagram.
				</p>

        		<img class="pj-img-fluid mx-auto mb-5" src=".\assets\images\pinouts\[2024-2025] OPS ESP32-C3 PINOUT.png"   width="800">
				<p class="mb-3">
				<ul>
					<li>NC stands for <strong>No Connect</strong>, and these pins should be left unconnected at all times.</li>
					<li>GPIO stands for a General Purpose Input/Output pin and can be used to send or read signals.</li>
					<li>The ~ symbol represents pins that are PWM (Pulse Width Modulation) capable.</li>
				</ul>
				<div class="alert alert-info mt-2 mb-5" role="alert">
					Info: All GPIO pins are PWM capable.
				</div>
				</p>


				<h3 class="mb-3" id="pj-heading-rgb-led">RGB LED</h3>
				<div class="mb-5">

					<p>
						For this project, we will use a <strong>common cathode RGB LED</strong>. Inside this component
						are
						three smaller LEDs - one red, one green, and one blue. They are all connected by a shared or
						<i>common</i> cathode.
					</p>
					<img class="pj-img-fluid-end"
					src="./assets/images/parts/ops_part_led_rgb_cathode_annotated.png" width="130">
					<p class="mb-5">
						This RGB LED has four pins: One is the common cathode, and the other three are the red, green,
						and
						blue LED anodes.
					</p>
					<h3 class="mb-3 fw-light" style="display: inline;">Using it in Arduino IDE</h3>
					<br><br>
					<p>
						In the world of digital electronics, color is often represented in the 8-bit RGB color model.
						Every
						visible color is
						identified by an encoding of the three base colors: red, green, and blue. In our Arduino code,
						we
						will set the
						intensity of each base color to a value in the range <code
							class="pj-code language-arduino">0-255</code>.
					</p>
					<p>
						Try the <a href="https://g.co/kgs/34wKLk" target="_blank" rel="noopener noreferrer">RGB Color
							Picker</a>. Adjust the slider at the bottom of the application. Notice how the three values
						in
						the RGB field change as you select different colors.
					</p>
					<p>
						Recall that LEDs are current driven: we control the intensity of each RGB LED color by
						increasing/decreasing the current passing through its pin. With the ESP32 board, we set the
						voltage, which changes current flow (recall
						Ohm's Law).
					</p>
					<p>
						Here's the rub: <code class="pj-code language-arduino">digitalWrite()</code> can only set a
						pin's
						voltage to 0 or 3.3V (the supply voltage). If we want to dim an LED, we need a new function that
						can
						output voltages between 0 and 3.3.
					</p>
					<p>
						We will use a <strong>pulse width modulation</strong> or <strong>PWM</strong> signal - a digital
						waveform mimicking
						analog voltage signals. With PWM
						waves, we can generate analog voltages like 1.3V or 2.1V. In Arduino, we accomplish this using
						<code class="pj-code language-arduino">analogWrite()</code>.
					</p>
				</div>


				<h3 class="mb-3" id="pj-heading-potentiometer">Potentiometer</h3>
				<p>
					A <strong>potentiometer</strong> is a three-terminal <i>variable</i> resistor. We will use it
					as a
					<strong>voltage divider</strong>,
					a circuit which accepts a supply voltage and outputs a voltage which is a fraction of the supply
					voltage. The voltage of
					the potentiometer's output pin ranges between the VCC and GND pin voltages, depending on the dial's
					position.
				</p>
				<img class="pj-img-fluid mx-auto mb-5" src=".\assets\images\parts\ops_parts_potentiometer_annotated.png" width="500">

				<h4 class="mb-3 fw-light">How it Works</h4>
				<p>
					We just referred to the potentiometer as a kind of resistor. Why? Internally, a resistive strip
					connects
					its VCC and GND pins, and a rotating wiper connects
					the output pin to the strip. The greater the distance along the strip between the wiper and the VCC
					pin,
					the greater the resistance between the wiper and VCC.
				</p>
				<img class="pj-img-fluid mx-auto mb-5"
					src=".\assets/images/project_4/ops_potentiometer_internal_annotated.png"  width="500">
				<p class="mb-5">
					In this voltage divider configuration, the wiper reduces the voltage at the output pin the further
					it is
					turned in a direction.
				</p>


				<h3 class="mb-3 fw-light">Using it with ESP32</h3>
				<p class="mb-5">
					We can connect the potentiometer's output pin to one of the ESP32's ADC pins (see its pinout
					above).
					The ADC pin is wired to the <strong>analog-to-digital converter (ADC)</strong>
					inside the ESP32-C3 chip. The ADC is hardware that translates the analog signal to a discrete
					digital signal. Using
					<code class="pj-code language-arduino">analogRead()</code>, we interpret the pin's analog voltage as
					a
					discrete integer in the range <code class="pj-code language-arduino">0-4095</code>.
				</p>



				<h2 class="mb-3 fw-bolder" id="pj-heading-requirements">Requirements</h2>
				<h3 class="mb-3" id="pj-heading-blinker">LED Blinker</h3>
				<ul class="mb-5 list-group">
					<li class="list-group-item">You must build a blinking LED circuit.</li>
					<li class="list-group-item">The LED in the circuit must blink once per second.</li>
					<li class="list-group-item">The LED must be brightly lit when turned ON.</li>
					<li class="list-group-item">The LED must be completely dark when turned OFF.</li>
					<li class="list-group-item">The circuit must be built on a breadboard.</li>
				</ul>
				<h3 class="mb-3" id="pj-heading-dimmer">LED Dimmer</h3>
				<ul class="mb-5 list-group">
					<li class="list-group-item">You must build a circuit with a dimmable LED.</li>
					<li class="list-group-item">The user must be able to adjust the LED's brightness from 0% to 100%
						when
						turning the potentiometer
						dial.</li>
					<li class="list-group-item">When turning the potentiometer one way, the LED should brighten.</li>
					<li class="list-group-item">When turning the potentiometer the other way, the LED should dim.
					</li>
					<li class="list-group-item">The circuit must be built on a breadboard.</li>
				</ul>
				<h3 class="mb-3" id="pj-heading-rgb-dimmer">RGB LED Wizard</h3>
				<ul class="mb-5 list-group">
					<li class="list-group-item">You must build a circuit with a dimmable RGB LED.</li>
					<li class="list-group-item">The user must be able to adjust the RGB LED to any color when turning
						the
						three potentiometer dials.
					</li>
					<li class="list-group-item">Each potentiometer should control the light intensity of one of the
						three
						LED colors (red, green,
						and blue).</li>
					<li class="list-group-item">When turning a potentiometer one way, its respective LED color should
						brighten.</li>
					<li class="list-group-item">When turning a potentiometer the other way, its respective LED color
						should dim.</li>
					<li class="list-group-item">The circuit must be built on a breadboard.</li>
				</ul>

				<h2 class="mb-3 fw-bold" id="pj-heading-parts">Parts</h2>

				<!-- ======= Part Table ======= -->
				<table class="table pj-part-table mb-5">
					<thead>
						<tr>
							<th scope="col">Part Name</th>
							<th scope="col">Qty</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>Jumper Wire</td>
							<td>X?</td>
						</tr>
						<tr>
							<td>Breadboard</td>
							<td>1</td>
						</tr>
						<tr>
							<td>
								<a class="pj-part"
									data-bs-content="<img src='./assets/images/project_4/ops_blue_pot.jpg' height='150px' width='auto'>"
									data-bs-trigger="hover focus" data-bs-toggle="popover" tabindex="0">
									Potentiometer, 10kΩ
								</a>
							</td>
							<td>1</td>
						</tr>
						<tr>
							<td>LED, 2V</td>
							<td>1</td>
						</tr>
						<tr>
							<td>
								<a class="pj-part"
									data-bs-content="<img src='./assets/images/project_4/ops_rgb_led.jpg' height='150px' width='auto'>"
									data-bs-trigger="hover focus" data-bs-toggle="popover" tabindex="0">
									LED, RGB, Common Cathode
								</a>
							</td>
							<td>1</td>
						</tr>
						<tr>
							<td>
								<a class="pj-part"
									data-bs-content="<img src='./assets/images/parts/ops_part_esp32c3fxh4.jpg' height='150px' width='auto'>"
									data-bs-trigger="hover focus" data-bs-toggle="popover" tabindex="0">
									ESP32
								</a>
							</td>
							<td>
								1
							</td>
						</tr>
						<tr>
							<td>Resistor, 220Ω</td>
							<td>1</td>
						</tr>
						<tr>
							<td>Resistor, 390Ω</td>
							<td>3</td>
						</tr>
						<tr>
							<td>USB-A to USB-C Cable</td>
							<td>1</td>
						</tr>
					</tbody>
				</table>
				<!-- End Part Table -->


				<h2 class="mb-3 fw-bold" id="pj-heading-schematics">Schematics</h2>
				<div class="accordion mb-5" id="schemAccordian">
					<div class="accordion-item">
						<h2 class="accordion-header">
							<button class="accordion-button" type="button" data-bs-toggle="collapse"
								data-bs-target="#schemCollapse1" aria-expanded="true" aria-controls="schemCollapse1">
								Schematic A (LED Blinker)
							</button>
						</h2>
						<!--Pin to page?-->
						<div id="schemCollapse1" class="accordion-collapse collapse show"
							data-bs-parent="#schemAccordian">
							<div class="accordion-body text-center">
								<img src='./assets/images/project_4/ops_p3_sa.svg' class="pj-schem"
									style="max-height: 300px; max-width: 300px;">
							</div>
						</div>
					</div>

					<div class="accordion-item">
						<h2 class="accordion-header">
							<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
								data-bs-target="#schemCollapse2" aria-expanded="true" aria-controls="schemCollapse2">
								Schematic B (LED Dimmer)
							</button>
						</h2>
						<!--Pin to page?-->
						<div id="schemCollapse2" class="accordion-collapse collapse" data-bs-parent="#schemAccordian">
							<div class="accordion-body text-center">
								<img src='./assets/images/project_4/ops_p3_sb.svg' class="pj-schem"
									style="max-height: 400px; max-width: 400px;">
							</div>
						</div>
					</div>

					<div class="accordion-item">
						<h2 class="accordion-header">
							<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
								data-bs-target="#schemCollapse3" aria-expanded="true" aria-controls="schemCollapse3">
								Schematic C (RGB LED Dimmer)
							</button>
						</h2>
						<!--Pin to page?-->
						<div id="schemCollapse3" class="accordion-collapse collapse" data-bs-parent="#schemAccordian">
							<div class="accordion-body text-center">
								<img src='./assets/images/project_4/ops_p3_sc.svg' class="pj-schem"
									style="max-height: 500px; max-width: 500px;">
							</div>
						</div>
					</div>

				</div>
				<h2 class="mb-3 fw-bold" id="pj-heading-instructions">Instructions</h2>
				<h3 class="mb-3" id="pj-heading-checkpoint1">Checkpoint 1</h3>
				<ol class="mb-5 list-group list-group-numbered">
					<li class="list-group-item">
						Build the circuit from <strong>Schematic A</strong> (LED Blinker) on your breadboard. You will
						design a blinking LED using the ESP32.
						<div class="alert alert-info mt-2" role="alert">
							Use the pseudo code below to program an LED that blinks on and off.
						</div>
						<div class="alert alert-info mt-2" role="alert">
							These functions may be helpful: <code
								class="pj-code language-arduino">Serial.begin()</code>,
							<code class="pj-code language-arduino">pinMode()</code>, <code
								class="pj-code language-arduino">digitalWrite()</code>, <code
								class="pj-code language-arduino">delay()</code>
						</div>
						<pre class="mt-3" style="white-space: pre-wrap;"><code class="pj-code language-arduino">// Assign variable to pin number for LED

void setup() {
	// Configure LED pin's behavior to OUTPUT
	// Configure the Serial baud rate to 115200
}
						
void loop() {
	// Set LED pin to HIGH
	// Delay
	// Set LED pin to LOW
	// Delay
}</code></pre>
					</li>
					<li class="list-group-item">
						Upload your sketch to the ESP32, and verify that the program executes as expected; the
						LED should cycle ON and OFF.
					</li>
				</ol>

				<h3 class="mb-3" id="pj-heading-checkpoint2">Checkpoint 2</h3>
				<ol class="mb-5 list-group list-group-numbered">
					<li class="list-group-item">
						Build the circuit from <strong>Schematic B</strong> (LED Dimmer) on your breadboard. Your goal
						is to make the LED grow brighter as you twist the potentiometer one way and dimmer the other way.
						<div class="alert alert-info" role="alert">
							Use the <strong>pseudo code below</strong> to program the circuit.
						</div>
						<div class="alert alert-info" role="alert">
							These functions may be helpful: <code
								class="pj-code language-arduino">Serial.begin()</code>,
							<code class="pj-code language-arduino">pinMode()</code>,
							<code class="pj-code language-arduino">analogRead()</code>, <code
								class="pj-code language-arduino">analogWrite()</code>
						</div>
						<pre class="mt-3" style="white-space: pre-wrap;"><code class="pj-code language-arduino">// Assign variable to pin number for LED
// Assign variable to pin number for Potentiometer

void setup() {
	// Configure the LED pin's behavior to OUTPUT
	// Configure the Potentiometer's pin behavior to INPUT
	// Configure the Serial baud rate to 115200
}
						
void loop() {
	// Read potentiometer pin value
	// Set LED pin to the potentiometer pin value					
}</code></pre>
					</li>
					<li class="list-group-item">
						Upload your sketch to the ESP32, and verify that the circuit meets the design
						requirements.
					</li>
				</ol>

				<h3 class="mb-3" id="pj-heading-checkpoint3">Checkpoint 3</h3>
				<ol class="mb-5 list-group list-group-numbered">
					<li class="list-group-item">
						Build the circuit from <strong>Schematic C</strong> (RGB LED Dimmer) on your breadboard. No
						pseudo code this time! You are on your own.
					</li>
					<li class="list-group-item">
						Upload your sketch to the ESP32, and verify that the circuit meets the design
						requirements.
					</li>
				</ol>

				<h2 class="mb-3 fw-bold" id="pj-heading-deliverables">Deliverables <span class="fw-light">(Enrolled
						Students
						Only)</span></h2>
				<p>
					Students enrolled in the course must submit the following deliverables to the corresponding Canvas
					course assignment.
				</p>
				<p>
					Place the following files in a single folder:
				</p>

				<ul class="mb-4 list-group">
					<li class="list-group-item">
						<i class="bi bi-check2-square me-2"></i>
						Video of the RGB LED Dimmer (Schematic C) on a breadboard
						<div class="alert alert-info mt-2" role="alert">
							In the video, use the potentiometers to create the colors yellow, green, and cyan.
						</div>
						<strong>Compress</strong> the folder to a <strong>zip</strong> file and rename the file using
						the format “<strong>ops_project#_lastname_firstname.zip</strong>” Then, submit the
						<strong>zip</strong> file to the Project 3 Canvas assignment.
				</ul>
			</div>
		</main>
	</div>
	<!-- ======= Footer ======= -->
	<script src="./js/ops_footer.js"></script>
	<!-- End Footer -->
</body>

</html>