<!DOCTYPE html>
<html lang="en" dir="ltr" data-bs-theme="light">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag() { dataLayer.push(arguments); }
	gtag('js', new Date());
	gtag('config', 'GA_MEASUREMENT_ID');
</script>

<head>
	<meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1">
	<!--Title-->
	<title>Open Project Space</title>
	<!--Favicon-->
	<link rel="icon" href="./assets/images/ops_logo_favicon.png">
	<!--Roboto Font CDN-->
	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Roboto" rel="stylesheet">
	<!--Beckman Font CDN-->
	<link href="https://fonts.cdnfonts.com/css/beckman" rel="stylesheet">
	<!-- Custom Stylesheet "custom.css" used for Bootstrap 5.3.0 css-->
	<link rel="stylesheet" href="./css/custom.css" type="text/css">
	<!-- Popper JS v2.11.8 (Bootstrap Dependency) CDN -->
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
		integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
		crossorigin="anonymous"></script>
	<!-- Bootstrap JS v5.3.0 CDN -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"
		integrity="sha384-fbbOQedDUMZZ5KreZpsbe1LCZPVmfTnH7ois6mU1QK+m14rQ1l2bGBq41eYeM/fS"
		crossorigin="anonymous"></script>
	<!-- Bootstrap Icons CSS v1.10.0 CDN-->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
	<!-- Highlight JS v11.7.0-->
	<link rel="stylesheet" href="./css/highlight.js/default.min.css" type="text/css">
	<link rel="stylesheet" href="./css/highlight.js/arduino-light.min.css" type="text/css">
	<script src="./js/highlight.min.js"></script>
	<script>hljs.highlightAll();</script>
</head>

<body style="">
	<!-- ======= Header ======= -->
	<script src="./js/ops_header.js"></script>
	<!-- End Header -->

	<div class="container-xl pj-layout my-5">
		<!-- ======= Sidebar ======= -->
		<aside class="pj-sidebar ">
			<nav id="project-toc" class="pj-toc d-flex flex-column px-2 pt-2 pb-4">
				<ul class="nav flex-column">
					<h5 class="mt-2 mb-2 mx-3">Contents</h5>
					<li class="nav-item">
						<a class="nav-link" href="#pj-heading-introduction">Overview</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#pj-heading-arduino-libraries">Arduino Libraries</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#pj-heading-concepts">Concepts</a>

						<ul class="nav">
							<li class="nav-item">
								<a class="nav-link" href="#pj-heading-measuring-time">Measuring Time</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="#pj-heading-interrupts">Interrupts</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="#pj-heading-tm1637">TM1637 7-Segment Display</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="#pj-heading-piezoelectric-buzzer">Piezoelectric Buzzer</a>
							</li>
						</ul>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#pj-heading-esp32pinout">ESP32 Pinout</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#pj-heading-requirements">Requirements</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#pj-heading-parts">Parts</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#pj-heading-schematics">Schematics</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#pj-heading-instructions">Instructions</a>
						<ul class="nav">
							<li class="nav-item">
								<a class="nav-link" href="#pj-heading-checkpoint1">Checkpoint 1</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="#pj-heading-checkpoint2">Checkpoint 2</a>
							</li>
						</ul>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#pj-heading-deliverables">Deliverables</a>
					</li>
				</ul>
			</nav>
		</aside>
		<!-- End Sidebar -->

		<main class="pj-main p-3" data-bs-spy="scroll" data-bs-target="#project-toc" data-bs-root-margin="0px 0px -40%"
			data-bs-smooth-scroll="true" tabindex="0">
			<div class="pj-content">

				<div class="d-flex flex-sm-row flex-column justify-content-between mb-5">
					<div class="mb-sm-0 mb-2">
						<h4>Project 7</h4>
						<h1 class="fw-bold">Digital Stopwatch</h1>
					</div>
					<div class="alert alert-light" role="alert">
						<i class="bi bi-calendar-event me-1"></i>
						Updated 2025.02.11 <br>
						By Zicong Yu
					</div>
				</div>

				<h2 class="mb-3 fw-bold" id="pj-heading-introduction">Overview</h2>
				<p class="mb-5">
					Now for an interlude in timers and interrupts! You will create a digital stopwatch using pushbutton
					switches and a
					7-Segment Display with the ESP32. A piezo buzzer will beep when the buttons are pressed. What are you
					waiting for? Get
					started!
				</p>

				<h2 class="mb-3 fw-bold" id="pj-heading-arduino-libraries">Installing Arduino Libraries</h2>
				<p class="mb-3">
					Here is a quick recap on how you can install Arduino libraries in the
					<a class="link-primary" href="https://www.arduino.cc/en/software" target="_blank"
						rel="noopener noreferrer">Arduino IDE 2.0.0+</a>
				</p>
				<ol class="mb-4 list-group list-group-numbered">
					<li class="list-group-item">
						Download the library as a <strong>.zip</strong>
					</li>
					<li class="list-group-item">
						In the Arduino IDE, go to <strong>Sketch → Include Library → Add .ZIP Library…</strong>
					</li>
					<li class="list-group-item">
						Select the <strong>.zip</strong> of the library and click <strong>Open</strong>.
					</li>
				</ol>
				<img class="pj-img-fluid mx-auto mb-4" src=".\assets\images\ops_arduino_ide_zip_library.png">

				<p class="mb-4">
					Make sure to <code class="pj-code language-arduino">#include</code> the library header file so that
					your
					code compiles correctly.
				</p>
				<table class="table pj-download-table mb-5">
					<tbody>
						<tr>
							<td>Timer Library</td>
							<td>
								<a class="btn btn-outline-success mx-3" href="assets\libraries\Timer-1.2.1.zip"
									role="button"><i class="bi bi-download"></i> Download</a>
							</td>
						</tr>
						<tr>
							<td>TM1637 Library</td>
							<td>
								<a class="btn btn-outline-success mx-3" href="assets\libraries\TM1637-1.2.0.zip"
									role="button"><i class="bi bi-download"></i> Download</a>
							</td>
						</tr>
					</tbody>
				</table>


				<h2 class="mb-3 fw-bold" id="pj-heading-concepts">Concepts</h2>
				<h3 class="mb-3" id="pj-heading-measuring-time">Measuring Time</h3>
				<p class="mb-5">
					We will record the time elapsed between a start and stop point. To do so requires a device within
					the ESP32 board
					called the… wait for it… timer! The ESP32 conveniently has four timers, only one of which we
					will need for
					measuring the time. Keeping it simple, we will use a library to interface with the timer and
					configure what is
					effectively a stopwatch program.
				</p>



				<h4 class="mb-3 fw-light">Using the Time Library</h4>

				<p class="mb-3">
					You can download the Time library <a class="link-primary"
						href="#pj-heading-arduino-libraries">here</a>. Make sure to include
					the header file:
				</p>
				<p class="mb-3">
					<code class="pj-code language-arduino">#include &lt;Timer.h&gt;</code>
				</p>
				<p class="mb-3">
					You will first instantiate a Timer object, declaring it in the global scope. This will control the
					timer device.
				</p>
				<p class="mb-3">
					<code class="pj-code language-arduino">Timer timer;</code>
				</p>
				<p class="mb-3">
					Examine the table below for an overview of its member functions:
				<table class="table mb-5">
					<tr>
						<th>Function</th>
						<th>Summary</th>
					</tr>
					<tr>
						<td>
							<code class="pj-code language-arduino">timer.start();</code>
						</td>
						<td>Starts the timer</td>
					</tr>
					<tr>
						<td>
							<code class="pj-code language-arduino">timer.pause();</code>
						</td>
						<td>Pauses the timer; this is the <code class="pj-code language-arduino">PAUSED</code> state </td>
					</tr>
					<tr>
						<td>
							<code class="pj-code language-arduino">timer.resume();</code>
						</td>
						<td>Resumes the timer when paused</td>
					</tr>
					<tr>
						<td>
							<code class="pj-code language-arduino">timer.stop();</code>
						</td>
						<td>Stops the timer; in this <code class="pj-code language-arduino">STOPPED</code> state,
							the next call to <code class="pj-code language-arduino">timer.stop()</code>
							resets the timer</td>
					</tr>
					<tr>
						<td>
							<code class="pj-code language-arduino">timer.read();</code>
						</td>
						<td>Returns the time elapsed since (in <strong>milliseconds</strong>) <code class="pj-code language-arduino">timer.start()</code>
							was called</td>
					</tr>
					<tr>
						<td>
							<code class="pj-code language-arduino">timer.state();</code>
						</td>
						<td>Returns the state of the timer as one of three constants: <code
								class="pj-code language-arduino">RUNNING</code>, <code
								class="pj-code language-arduino">PAUSED</code>, and <code
								class="pj-code language-arduino">STOPPED</code></td>
					</tr>
				</table>
				</p>

				<h3 class="mb-3" id="pj-heading-interrupts">Interrupts</h3>
				<p class="mb-4">
					An <strong>interrupt request</strong> (<strong>IRQ</strong>) is a request to the ESP32's CPU to halt the currently executing code when an event
					occurs. After the
					request (or IRQ) is sent, the CPU will call another function to handle the event; it's called an
					<strong>interrupt handler</strong> or
					<strong>interrupt service routine</strong> (<strong>ISR</strong>). This is particularly useful in embedded systems for handling
					external interrupts, which
					are triggered by devices external to the CPU. For example, a button press may trigger an interrupt…
				</p>
				<p class="mb-5">
					In a previous project, you may have implemented a program with pushbutton switches using a loop.
					Every iteration of the
					loop, you read the pushbutton's state, waiting to see if it was pressed. What an ordeal! Instead, we
					can use an
					interrupt to let the Arduino know when the button is pressed. Then, the interrupt handler will
					perform whichever
					instructions follow the button press.
				</p>

				<h4 class="mb-3 fw-light">attachInterrupt</h4>
				<p class="mb-3">
					We will use a built-in Arduino function to initialize an interrupt. A digital pin will serve as the
					line in which IRQs
					are sent. That same pin is where the external device, such as a pushbutton, should be connected.
				</p>

				<div class="alert alert-warning" role="alert">
					Note: All of the ESP32's GPIO pins can be used for external interrupts.
				</div>

				<p class="mb-3">
					<code class="pj-code language-arduino">attachInterrupt(interrupt, ISR, mode);</code>
				</p>

				<p class="mb-3">
					Let's discuss the parameters in the function above:
				</p>

				<ul class="list-group mb-3">
					<li class="list-group-item">
						<code class="pj-code language-arduino">interrupt</code> is the desired number; it is <i>not</i>
						a pin number
					</li>
					<li class="list-group-item">
						<code class="pj-code language-arduino">ISR</code> is the name of the function which will be
						called as the interrupt handler
					</li>
					<li class="list-group-item">
						<code class="pj-code language-arduino">mode</code> configures the timing of the IRQ; the
						constants you may pass here are as follows:
						<ul>
							<li>
								<code class="pj-code language-arduino">LOW</code> triggers the IRQ when the pin is at a
								LOW voltage

							</li>
							<li>
								<code class="pj-code language-arduino">CHANGE</code> triggers the IRQ when the pin when
								it changes value
							</li>
							<li>
								<code class="pj-code language-arduino">FALLING</code> triggers the IRQ when the pin
								voltage changes from HIGH to LOW
							</li>
							<li>
								<code class="pj-code language-arduino">RISING</code> triggers the IRQ when the pin
								voltage changes from LOW to HIGH
							</li>
						</ul>
					</li>
				</ul>

				<p class="mb-3">
					<strong>You will call this function in</strong> <code
						class="pj-code language-arduino">setup()</code> for each interrupt you wish to initialize. But how do you find the corresponding interrupt
					number of the digital pin?
				</p>

				<p class="mb-3">
					<code class="pj-code language-arduino">digitalPinToInterrupt(pin);</code>
				</p>

				<p class="mb-3">
					Using the function above, simply pass the digital pin number and it will return the interrupt
					number.
				</p>

				<p class="mb-3">
					The recommended approach to calling these functions is to perform them all in one line:
				</p>

				<p class="mb-5">
					<code
						class="pj-code language-arduino">attachInterrupt(digitalPinToInterrupt(pin), ISR, mode);</code>
				</p>

				<h4 class="mb-3 fw-light">Interrupt Handlers</h4>

				<p class="mb-3">
					After initializing an interrupt, we ought to define an interrupt handler. This will be like defining
					any other function,
					except there are no parameters and no return value.
				</p>
				<p class="">
					Here is an example definition:
				</p>

				<pre class="mb-3">
					<code class="pj-code language-arduino" style="white-space: pre-wrap;">
void interruptHandler()
{
Serial.println("The interrupt has been handled");
}
					</code>
				</pre>

				<p class="mb-5">
					We will <strong>pass the name of this function</strong>, <code
						class="pj-code language-arduino">interruptHandler</code>, as the argument <code
						class="pj-code language-arduino">ISR</code> in <code
						class="pj-code language-arduino">attachInterrupt</code>.
				</p>

				<h3 class="mb-3" id="pj-heading-tm1637">TM1637 7-Segment Display</h3>
				<p class="mb-3">
					If you have ever used a digital clock or watch, you have seen a seven-segment display! Each digit is
					composed of seven
					LEDs arranged into segments (as shown in the image below).
				</p>
				<img class="pj-img-fluid mx-auto mb-4" src=".\assets\images\project_7\ops_seven_segment_display.webp">
				<p class="mb-5">
					Activating a combination of the LEDs displays the desired number or character. It's very simple;
					however, the number of
					signal lines quickly grows for each additional digit. The TM1637 chip is designed to alleviate this
					exact problem. The
					IC interfaces with a 4-digit display and can be controlled via I2C protocol by the Arduino.
				</p>

				<h4 class="mb-3 fw-light" id="pj-heading-tm1637">TM1637 Pinout Diagram</h4>

				<p class="mb-3">
					Below is a pinout of the TM1637. There are just four pins labeled on the side of the module.
				</p>

				<img class="pj-img-fluid mx-auto mb-4" src=".\assets\images\project_7\ops_TM1637_annotated.png" width="500px">
				<p class="mb-3">
					Once again, you may recognize the two I<sup>2</sup>C pins: <span class="text-green">DIO</span> and
					<span class="text-blue">CLK</span>. Although their names differ from the
					traditional <span class="text-green">SDA</span> and
					<span class="text-green">SCL</span>, they serve the same purpose. These pins should be connected to
					any two digital pins on the
					Arduino board.
				</p>

				<p class="mb-5">
					Of course, we also need to power the module with the <span class="text-gray">GND</span> and <span
						class="text-red">VCC</span>
					pins. Note that the <span class="text-red">VCC</span> pin accepts
					5V, so <strong>connect it
						to the 5V pin</strong> of the ESP32 board.
				</p>

				<h4 class="mb-3 fw-light">Using the TM1637 Library</h4>
				<p class="mb-3">
					Download the library <a class="link-primary" href="#pj-heading-arduino-libraries">here</a>. Make
					sure to include the header file:
				</p>

				<p class="mb-3">
					<code class="pj-code language-arduino">
						#include &lt;TM1637Display.h&gt;
					</code>
				</p>

				<p class="mb-3">
					First thing's first: Instantiate an object of the TM1637 class, declaring it in the global scope.
					Its two parameters are
					the digital pin numbers which have been connected to the module's <span
						class="text-green">DIO</span> and <span class="text-blue">CLK</span> lines.
				</p>

				<p class="mb-5">
					<code class="pj-code language-arduino">
						TM1637Display display(int CLK, int DIO);
					</code>
				</p>

				<p class="mb-3">
					You will call the display's <code class="pj-code language-arduino">clear()</code> and <code
						class="pj-code language-arduino">setBrightness(int brightness)</code> functions just once to
					initialize the display. Place this
					code in your <code class="pj-code language-arduino">setup()</code> function.
				</p>

				<p class="mb-3">
					<code class="pj-code language-arduino">display.clear();</code>
				</p>
				<p class="mb-3">
					<code class="pj-code language-arduino">display.setBrightness(7);</code>
				</p>

				<p class="mb-5">
					Note that the <code class="pj-code language-arduino">setBrightness(int brightness)</code> function
					changes the module's brightness and accepts a value between <code
						class="pj-code language-arduino">0</code> (dim) and <code
						class="pj-code language-arduino">7</code> (bright).
				</p>

				<p class="mb-3">
					The next order of business is to display numbers! We will use the function below, which has three
					parameters of
					interest.
				</p>

				<p class="mb-3">
					<code
						class="pj-code language-arduino">display.showNumberDecEx(int num, 0x40, bool leading_zero);</code>
				</p>

				<p class="mb-3">
					The first parameter, <code class="pj-code language-arduino">num</code>, is the number that will be
					displayed. The second parameter we will pass
					<code class="pj-code language-arduino">0x40</code>, which enables
					the colon on the module. Lastly, <code class="pj-code language-arduino">leading_zero</code> turns on
					or off the leading zeroes on numbers which
					are less than four
					digits.
				</p>

				<p class="mb-3">
					<code class="pj-code language-arduino">display.showNumberDecEx(123, 0x40, true);</code> displays the
					following to the module:
				</p>

				<img class="img-fluid mb-4" src=".\assets\images\project_7\ops_project7_seven_segment1.png">
				<p class="mb-3">
					The digits populate right to left, and since <code
						class="pj-code language-arduino">leading_zero</code> was set to <code
						class="pj-code language-arduino">true</code>, the leftmost, unused
					digit is a zero.
				</p>

				<p class="mb-5">
					To learn more about what this library can do, check out the full documentation <a
						class="link-primary" href="https://github.com/avishorp/TM1637/tree/master" target="_blank"
						rel="noreferrer">here</a>.
				</p>

				<h3 class="mb-3" id="pj-heading-piezoelectric-buzzer">Piezoelectric Buzzer</h3>

				<p class="mb-3">
					A <strong>piezoelectric buzzer</strong> is a component used to emit sound.
					<img class="pj-img-fluid-end" style="max-width: 200px;"
						src="./assets/images/project_2/ops_piezo.webp">
				</p>


				<p class="mb-5">
					Piezo buzzers come in two varieties: active and passive. <strong>Active</strong> buzzers have a
					built-in oscillator with a set frequency
					that cannot be changed. <strong>Passive</strong> buzzers do not; they have to be fed an oscillating
					signal. We will
					use a passive piezo
					buzzer.
				</p>

				<h4 class="mb-3 fw-light">Using the Buzzer with ESP32</h4>

				<p class="mb-3">
					We will use a built-in Arduino IDE function to send a PWM signal of specific frequency to the piezo
					buzzer. Instead of using
					<code class="pj-code language-arduino">analogWrite</code>, we will try <code
						class="pj-code language-arduino">tone</code>, which allows you to set
					the frequency and duration (in milliseconds)
					of the PWM signal.
					This is perfect for playing music notes!
				</p>

				<p class="mb-3">
					<code class="pj-code language-arduino">tone(int pin, int frequency, long duration);</code>
				</p>

				<div class="alert alert-info" role="info">
					<code class="pj-code language-arduino">tone</code> is a <strong>non-blocking</strong> function. The
					program will not
					pause for the duration of the note; it will continue to execute.
				</div>

				<p class="mb-3">
					Here are some music notes translated to frequencies:
				<table class="table pj-download-table mb-3">
					<tr>
						<th>Music Note</th>
						<th>Frequency (Hz)</th>
					</tr>
					<tr>
						<td>
							C5
						</td>
						<td>
							523
						</td>
					</tr>
					<tr>
						<td>
							D5
						</td>
						<td>
							587
						</td>
					</tr>
					<tr>
						<td>
							E5
						</td>
						<td>
							659
						</td>
					</tr>
					<tr>
						<td>
							F5
						</td>
						<td>
							698
						</td>
					</tr>
					<tr>
						<td>
							G5
						</td>
						<td>
							783
						</td>
					</tr>
				</table>
				</p>

				<p class="mb-5">
					Try it out! Play note C5 for 1 second with <code
						class="pj-code language-arduino">tone(6, 523, 1000);</code> where the buzzer is connected to pin
					5.
				</p>

				<h2 class="mb-3 fw-bold" id="pj-heading-pinout">ESP32 Pinout Diagram</h2>
				<p class = "mb-3">
					Thinking about using a pin you don't know what it does? Refer to the ESP32 Board pinout diagram.
				</p>
				<p class="mb-3">
                    <img class="pj-img-fluid mx-auto mb-4" src="./assets/images/pinouts/[2024-2025] OPS ESP32-C3 PINOUT.png"
					width="900">
					When trying to figure out what pin to use for your specific application/project, refer to the ESP32 Pinout diagram.
                    <br>
					<ul>
						<li><strong>NC</strong> stands for <strong>No Connect</strong>, and these pins should be left unconnected at all times.</li>
						<li><strong>GPIO</strong> stands for a General Purpose Input/Output pin and can be used to send or read signals.</li>
						<li><strong>ADC</strong> stands for analog to digital converter and it reads the input voltage and makes a digital number to represent that amount of voltage.</li>
						<li><strong>TXD</strong> stands for transmitt data and can be used to transmitt data using a communication protocols.</li>
						<li><strong>RXD</strong> stands for receive data and can be used to receive data using communication protocols.</li>
						<li>The <strong>~ symbol</strong> represents pins that are PWM (Pulse Width Modulation) capable.</li>
					</ul>
					<div class="alert alert-info mt-2" role="alert">
						Info: All GPIO pins are PWM capable.
					</div>
                </p>

				<h2 class="mb-3 fw-bolder" id="pj-heading-requirements">Requirements</h2>
				<p class="mb-3">
					For readers who are enrolled in the course: In order to receive full marks on your project
					submission,
					make sure it meets the following <strong>minimum requirements</strong>.
				</p>
				<h3 class="mb-3">Toggle-able LED Circuit</h3>
				<ul class="mb-5 list-group">
					<li class="list-group-item">
						You must write a program in which the Arduino board toggles the state of its built-in LED (D13)
						when a button is
						pressed.
					</li>
					<li class="list-group-item">
						The state of the LED must toggle only once for each button press
						<ul>
							<li>
								Meaning… The LED should not flicker ON and OFF if the button is held down.
							</li>
						</ul>
					</li>
					<li class="list-group-item">
						This program must be implemented with <code
							class="pj-code language-arduino">attachInterrupt</code>.
					</li>
					<li class="list-group-item">
						<strong>No loops may be used</strong> (that includes the main<code
							class="pj-code language-arduino">loop()</code>).
					</li>
					<li class="list-group-item">
						The circuit must be built on a breadboard.
					</li>
				</ul>
				<h3 class="mb-3" id="requirements">Digital Stopwatch</h3>
				<ul class="mb-5 list-group">
					<li class="list-group-item">
						You must build a digital stopwatch with two buttons, the TM1637, and a piezo buzzer.
					</li>
					<li class="list-group-item">
						One button one serves as a “Start/Pause/Resume” button.
						<ul>
							<li>
								When this button is first pressed, the stopwatch begins.
							</li>
							<li>
								A second press of this button should pause the stopwatch. Another press should resume
								it.
							</li>
						</ul>
					</li>
					<li class="list-group-item">
						The second button one serves as a “Stop” button.
						<ul>
							<li>
								When this button is pressed, the stopwatch stops, 
								and the display freezes on the time elapsed. 
								The next press of the “Start/Pause/Resume” button resets the display 
								to zero stopwatch and starts the stopwatch.
							</li>
						</ul>
					</li>
					<li class="list-group-item">
						When the stopwatch is active, the TM1637 must display the number of minutes and seconds elapsed.
						<ul>
							<li>
								The colon must be displayed
							</li>
							<li>
								The two digits to the left of the colon should display the number of minutes elapsed.
							</li>
							<li>
								The two digits to the right elapsed should display the number of seconds elapsed in the
								current minute.
							</li>
							<img class="pj-img-fluid mx-auto mb-3" src=".\assets\images\project_7\ops_project7_seven_segment1.png">

						</ul>
					</li>
					<li class="list-group-item">
						Each time a button is pressed, the buzzer must play at least one note.
					</li>
					<li class="list-group-item">
						Each time a minute elapses, the buzzer must play at least one note.
					</li>
					<li class="list-group-item">
						Buttons must be implemented with <code class="pj-code language-arduino">attachInterrupt</code>.
					</li>
					<li class="list-group-item">
						You may use the main <code class="pj-code language-arduino">loop()</code> only for time conversion and updating the display.
					</li>

					<li class="list-group-item">
						The circuit must be built on a breadboard.
					</li>
				</ul>

				<h2 class="mb-3 fw-bold" id="pj-heading-parts">Parts</h2>

				<!-- ======= Part Table ======= -->
				<table class="table pj-part-table mb-5">
					<thead>
						<tr>
							<th scope="col">Part Name</th>
							<th scope="col">Qty</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>
								<a class="pj-part"
										data-bs-content="<img src='assets\images\parts\ops_part_esp32c3fxh4.jpg' height='150px' width='auto'>"
										data-bs-trigger="hover focus" data-bs-toggle="popover" tabindex="0">
										ESP32
								</a>
							</td>
							<td>1</td>
						</tr>
						<tr>
							<td>Breadboard</td>
							<td>1</td>
						</tr>
						<tr>
							<td>
								<a class="pj-part"
									data-bs-content="<img src='assets\images\project_7\ops_TM1637_physical.png' height='150px' width='auto'>"
									data-bs-trigger="hover focus" data-bs-toggle="popover" tabindex="0" a
									class="link-primary">
									TM1637, 7 Segment Display
								</a>


							</td>
							<td>1</td>
						</tr>
						<tr>
							<td>
								<a class="pj-part"
								data-bs-content="<img src='assets/images/parts/ops_part_tactileSwitch.png' height='150px' width='auto'>"
								data-bs-trigger="hover focus" data-bs-toggle="popover" tabindex="0" a
								class="link-primary"
								href="https://drive.google.com/file/d/123mnk9r7DJ4KZHwoDXeP770cfP8593oN/view?usp=sharing"
								target="_blank" rel="noopener noreferrer">
									Switch, Tactile
								</a>
							</td>
							<td>2</td>
						</tr>
						<tr>
							<td>
								<a class="pj-part"
								data-bs-content="<img src='assets/images/parts/ops_part_buzzer.webp' height='150px' width='auto'>"
								data-bs-trigger="hover focus" data-bs-toggle="popover" tabindex="0" a
								class="link-primary">
									Piezo Buzzer, 1.5V
								</a>
							</td>
							<td>1</td>
						</tr>
						<tr>
							<td>Dupont Jumper Wire (Male-to-Female)</td>
							<td>4</td>
						</tr>
					</tbody>
				</table>
				<!-- End Part Table -->

				<h2 class="mb-3 fw-bold" id="pj-heading-schematics">Schematics</h2>
				<div class="accordion mb-5" id="schemAccordian">
					<div class="accordion-item">
						<h2 class="accordion-header">
							<button class="accordion-button" type="button" data-bs-toggle="collapse"
								data-bs-target="#schemCollapse1" aria-expanded="true" aria-controls="schemCollapse1">
								Schematic A (Toggle-able LED Circuit)
							</button>
						</h2>
						<!--Pin to page?-->
						<div id="schemCollapse1" class="accordion-collapse collapse show"
							data-bs-parent="#schemAccordian">
							<div class="accordion-body text-center">
								<img src='assets/images/project_7/ops_project_7_Schematic_A.svg' class="pj-img-fluid mx-auto"  width="400px">
							</div>
						</div>
					</div>

					<div class="accordion-item">
						<h2 class="accordion-header">
							<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
								data-bs-target="#schemCollapse2" aria-expanded="true" aria-controls="schemCollapse2">
								Schematic B (Digital Stopwatch)
							</button>
						</h2>
						<!--Pin to page?-->
						<div id="schemCollapse2" class="accordion-collapse collapse" data-bs-parent="#schemAccordian">
							<div class="accordion-body text-center">
								<img src='assets/images/project_7/ops_projects_7_Schematic_B.svg' class="pj-img-fluid mx-auto" width="800px">
							</div>
						</div>
					</div>
				</div>

				<h2 class="mb-3 fw-bold" id="pj-heading-instructions">Instructions</h2>
				<h3 class="mb-3" id="pj-heading-checkpoint1">Checkpoint 1</h3>
				<ol class="mb-5 list-group list-group-numbered">
					<li class="list-group-item">
						Build the circuit in <strong>Schematic A</strong> (Toggle-able LED Circuit) on your breadboard.
						<div class="alert alert-info mt-2" role="alert">
							Use the built-in LED connected to the ESP32's 8 pin
						</div>
						<div class="alert alert-info mt-2" role="alert">
							Don't forget to use INPUT_PULLUP when setting the pinmode of the pushbutton pin.
						</div>
					</li>
					<li class="list-group-item">
						Upload your sketch to the board, and verify that the system executes as expected.
					</li>
				</ol>

				<h3 class="mb-3" id="pj-heading-checkpoint2">Checkpoint 2</h3>
				<ol class="mb-5 list-group list-group-numbered">
					<li class="list-group-item">
						Build the circuit in <strong>Schematic B</strong> (Digital Stopwatch) on your breadboard.
					</li>
					<li class="list-group-item">
						Upload your sketch to the ESP32, and verify that the program executes as expected.
					</li>
				</ol>

				<h2 class="mb-3 fw-bold" id="pj-heading-deliverables">Deliverables <span class="fw-light">(Enrolled
						Students
						Only)</span></h2>
				<p class="mb-3">
					Students enrolled in the course must submit the following deliverables to the corresponding Canvas
					course assignment.
				</p>

				<p class="mb-3">
					Place the following files in a single folder:
				</p>

				<ul class="mb-4 list-group">
					<li class="list-group-item">
						<i class="bi bi-check2-square me-2"></i>
						Video of the Digital stopwatch ESP32 board
						<div class="alert alert-info mt-2" role="alert">
							This video should include the TM1637, two pushbuttons, piezo buzzer and ESP32 correctly
							wired together.
						</div>
						<div class="alert alert-info mt-2" role="alert">
							Demonstrate that seconds and minutes are properly displayed by the stopwatch. Show the
							display update from 50 seconds to
							1 minute and 10 seconds elapsed.
						</div>
						<div class="alert alert-info mt-2" role="alert">
							Start, pause, resume, and stop the stopwatch in the video. Then, start the stopwatch one
							more time to demonstrate all
							features of the stopwatch.
						</div>
					</li>
					<li class="list-group-item">
						<i class="bi bi-check2-square me-2"></i>
						Digital stopwatch Arduino sketch file
						<div class="alert alert-info mt-2" role="alert">
							This file should include all of the code you have written for the ESP32 acting as the
							transmitter. Name it “<strong>ops_project7.ino</strong>".
						</div>
					</li>
				</ul>

				<p class="mb-3">
					<strong>Compress</strong> the folder to a <strong>zip</strong> file and rename the file using the format 
					“<strong>ops_project7_lastname_firstname.zip</strong>” Then, submit the <strong>zip</strong> file to the Project 6 Canvas assignment.
				</p>

			</div>
		</main>
	</div>
	<!-- ======= Footer ======= -->
	<script src="./js/ops_footer.js"></script>
	<!-- End Footer -->
</body>

</html>